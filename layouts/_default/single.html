{{ define "main" }}

<style type="text/css" media="screen">
  @media (prefers-color-scheme: dark) { 
    {{ partial "css/syntax-dark.css" . | safeCSS }}
  }
  @media (prefers-color-scheme: light) { 
    {{ partial "css/syntax-light.css" . | safeCSS }} 
  }
</style>

<div class="mx-auto px-3 px-md-4 px-lg-6 py-4 py-md-5 py-lg-7 main-content">
  <article class="mb-3">

    <div class="mb-4">
      <h1 class="lh-condensed mb-1">{{ .Title }}</h1>

      {{ with .Params.tags }}
        <ul class="list-style-none tag-list mb-2">
          {{ range . }}
            {{ $href := print (relURL "tags/") (urlize .) }}
            <li class="d-inline-block color-bg-info color-text-primary px-0 py-1 mb-1"><a href="{{ $href }}">{{ . }}</a></li>
          {{ end }}
        </ul>
      {{ end }}

      <div class="d-flex flex-items-center">
        <img src="{{ .Site.Params.image }}" class="circle anim-hover-grow mr-2" height="18" width="18">
        <span class="pl-2 color-text-tertiary text-uppercase text-small text-semibold d-flex flex-items-center">
          <span>{{ partial "icons/calendar" }}</span><span>{{ .Date.Format "Jan 2, 2006" }}</span>
          <span class="pl-3">{{ partial "icons/stopwatch" }}</span><span>{{.ReadingTime}} min read</span>
        </span>
      </div>
    </div>

    {{ if default false (default .Site.Params.toc .Params.toc) }}
      <span>
        {{ partial "mobile-toc" . }}
      </span>
    {{ end }}

    <div class="markdown-body">
      {{ .Content }}
    </div>
    
  </article>
</div>
{{ end }}
